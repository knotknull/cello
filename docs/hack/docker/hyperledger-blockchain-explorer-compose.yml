---
version: '2'

services:

  hl-blockchain-explorer:
    container_name: hl-blockchain-explorer
    image: hyperledger-blockchain-explorer 
    restart: always
    ports:
      - "8080:8080"
    network_mode: bridge
    hostname: hl-blockchain-explorer
    environment:
      - DATABASE_HOST=postgres
      - DATABASE_PORT=5432
      - DATABASE_NAME=fabricexplorer
      - DATABASE_USERNAME=pguser
      - DATABASE_PASSWD=pgpass 
    volumes:
      - /home/ubuntu/blockchain-explorer/app/platform/fabric/config.json:/opt/explorer/app/platform/fabric/config.json
      - /opt/fabric/hack_fab_bc/:/opt/fabric/hack_fab_bc/
      - /opt/fabric/hack_fab_bc/.composer/:/tmp/crypto

